<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
        integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,600,700,800" rel="stylesheet">
    <title>vuMeter Clock</title>
</head>

<body>
    <div>
        <h5>vuClock</h5>
        <div class="main-panel">
            <div class="content">
                <div class="row">
                    <div class="col-12 ">
                        <div class="row p-4">
                            <div class="col">
                                <div class="card p-3">
                                    <div class="card-header">
                                        <h5 class="card-category">NTP Server</h5>
                                    </div>
                                    <div>
                                        <h5 class="card-title">pool.time.gov</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card p-3">
                                    <div class="card-header">
                                        <h5 class="card-category">Time Zone</h5>
                                    </div>
                                    <div>
                                        <h5 class="card-title">America/NYC</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card p-3">
                                    <div class="card-header">
                                        <h5 class="card-category">Current Time</h5>
                                    </div>
                                    <div>
                                        <h5 id="time" class="card-title"></h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row p-4">
                            <div class="col">
                                <div class="card p-3">
                                    <div class="card-header">
                                        <h5 class="card-category">WiFi</h5>
                                    </div>
                                    <div>
                                        <h5 class="card-title">grover</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="card p-3">
                                    <div class="card-header">
                                        <h5 class="card-category">Network</h5>
                                    </div>
                                    <div>
                                        <h5 class="card-title">IP Address: 192.168.1.247</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row p-4">
                            <div class="col">
                                <div class="card p-3">
                                    <div class="card-header">
                                        <h5 class="card-category">LED Color</h5>
                                    </div>
                                    <div>
                                        <input type="color" id="colorpicker" value="#ff0000">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script>


        // Request (GET http://192.168.1.247/api/time)
        function getTime() {
            jQuery.ajax({
                url: 'http://192.168.1.247/api/time',
                type: 'GET',
            })
                .done(function (data, textStatus, jqXHR) {
                    console.log('HTTP Request Succeeded: ' + jqXHR.status)
                    console.log(data)
                    document.getElementById('time').innerHTML = data.time.current_time
                })
                .fail(function (jqXHR, textStatus, errorThrown) {
                    console.log('HTTP Request Failed')
                    document.getElementById('time').innerHTML = 'Error'
                })
                .always(function () {
                    /* ... */
                })
        }

        //Run on page load
        getTime()
        //Run every minute
        setInterval(getTime, 60000)
    </script>
</body>

</html>